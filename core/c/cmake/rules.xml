<?xml version="1.0" encoding="utf-8"?>
<rules>
    <prepare>
    <![CDATA[

cd "$BOLT_BUILD_DIR"
cmake \
    -DCMAKE_SYSTEM_NAME=Linux \
    -DCMAKE_C_COMPILER="${BOLT_HOST_TYPE}-gcc" \
    -DCMAKE_CXX_COMPILER="${BOLT_HOST_TYPE}-g++" \
    -DCMAKE_FIND_ROOT_PATH="$BOLT_INSTALL_PREFIX" \
    -DCMAKE_FIND_ROOT_PATH_MODE_PROGRAM="NEVER" \
    -DCMAKE_FIND_ROOT_PATH_MODE_LIBRARY="ONLY" \
    -DCMAKE_FIND_ROOT_PATH_MODE_INCLUDE="ONLY" \
    -DCMAKE_INSTALL_PREFIX="$BOLT_INSTALL_PREFIX" \
    -DCURSES_INCLUDE_PATH="$BOLT_INSTALL_PREFIX/include" \
    -DCURSES_FORM_LIBRARY="$BOLT_INSTALL_PREFIX/lib/libform.so" \
    -DHAVE_POLL_FINE_EXITCODE="0" \
    -DHAVE_POLL_FINE_EXITCODE__TRYRUN_OUTPUT="" \
    -DKWSYS_LFS_WORKS="TRUE" \
    -DHAVE_GLIBC_STRERROR_R:STRING="1" \
    -DHAVE_GLIBC_STRERROR_R__TRYRUN_OUTPUT="" \
    -DHAVE_POSIX_STRERROR_R:STRING="0" \
    -DHAVE_POSIX_STRERROR_R__TRYRUN_OUTPUT="" \
    -DCMAKE_BUILD_TYPE="RelWithDebInfo" \
    "$BOLT_SOURCE_DIR"

    ]]>
    </prepare>

    <build>
    <![CDATA[

cd "$BOLT_BUILD_DIR"
make -j"$BOLT_PARALLEL_JOBS"

    ]]>
    </build>

    <install>
    <![CDATA[

cd "$BOLT_BUILD_DIR"
make DESTDIR="$BOLT_INSTALL_DIR" install

    ]]>
    </install>
</rules>
